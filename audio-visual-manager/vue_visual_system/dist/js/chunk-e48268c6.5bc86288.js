(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e48268c6"],{"0e81":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"list-box"},[n("div",{staticClass:"category-list-box"},[n("el-table",{staticClass:"table_color",staticStyle:{width:"100%"},attrs:{data:t.tvs.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),"row-class-name":t.tableRowClassName,"header-cell-style":t.getRowClass}},[n("el-table-column",{attrs:{width:"20"}}),n("el-table-column",{attrs:{prop:"id",label:"id",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{color:"white","font-weight":"bold"},domProps:{textContent:t._s(e.row.id)}})]}}],null,!1,3795576427)}),n("el-table-column",{attrs:{prop:"name",label:"接口名称",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{color:"white","font-weight":"bold"},domProps:{textContent:t._s(e.row.name)}})]}}],null,!1,4042567009)}),n("el-table-column",{attrs:{prop:"url",label:"接口地址",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{width:"520px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",color:"white","font-weight":"bold"},domProps:{textContent:t._s(e.row.url)}})]}}],null,!1,1966456160)}),n("el-table-column",{attrs:{label:"头像",width:"218"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("div",[n("el-image",{staticStyle:{width:"100px",height:"40px"},attrs:{src:t.row.icon,fit:"contain"}})],1)]}}],null,!1,1818133392)}),n("el-table-column",{attrs:{prop:"user",label:"添加人",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{color:"white","font-weight":"bold"},domProps:{textContent:t._s(e.row.user)}})]}}],null,!1,2371486039)}),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(n){return t.edit(e.row)}}},[t._v(" 修改 ")])]}}],null,!1,1561505789)})],1),n("div",{staticClass:"lables-dialog-box"},[n("el-dialog",{attrs:{title:t.tvText,visible:t.editTv,width:"600px"},on:{"update:visible":function(e){t.editTv=e}}},[n("div",{staticClass:"lable-add_box"},[n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"接口名称"}},[n("el-input",{on:{input:function(e){return t.change(e)}},model:{value:t.tvItems.name,callback:function(e){t.$set(t.tvItems,"name",e)},expression:"tvItems.name"}})],1),n("el-form-item",{attrs:{label:"接口地址"}},[n("el-input",{on:{input:function(e){return t.change(e)}},model:{value:t.tvItems.url,callback:function(e){t.$set(t.tvItems,"url",e)},expression:"tvItems.url"}})],1),n("el-form-item",{attrs:{label:"图标"}},[n("el-input",{on:{input:function(e){return t.change(e)}},model:{value:t.tvItems.icon,callback:function(e){t.$set(t.tvItems,"icon",e)},expression:"tvItems.icon"}})],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:t.cancelAddItem}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.editItem}},[t._v("确 定")])],1)])],1),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[8,9,10],"page-size":t.pagesize,layout:"total, sizes,prev, pager, next",total:t.tvs.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)]):t._e()},a=[],o=(n("b0c0"),{data:function(){return{show:!1,currentPage:1,pagesize:8,tvs:[],editTv:!1,tvText:"",username:null,tvId:null,tvItems:[{name:"",url:"",user:"",icon:""}]}},methods:{tableRowClassName:function(t){t.row;var e=t.rowIndex;return(e+1)%2===0?"double":"single"},getRowClass:function(t){var e=t.rowIndex;return 0==e?"background:#2d3a5c":""},edit:function(t){this.tvItems.name=t.name,this.tvItems.url=t.url,this.tvItems.user=t.user,this.tvItems.icon=t.icon,this.tvId=t.id,this.tvText="修改电影接口",this.editTv=!0},editItem:function(){var t=this;console.log("执行的编辑方法"),this.$axios.put("/admin/tv-update?id="+this.tvId,{name:this.tvItems.name,url:this.tvItems.url,user:this.username,icon:this.tvItems.icon}).then((function(e){console.log("result =>"+e),2e4===e.data.code?(t.sendMessage("修改成功","success"),t.getData()):t.sendMessage("修改失败","error")})),this.editTv=!1},cancelAddItem:function(){this.editTv=!1},sendMessage:function(t,e){this.$message({message:t,center:!0,type:e})},getData:function(){var t=this;this.$axios.get("/user/check-token").then((function(e){var n=e.data;2e4===n.code&&(console.log("username is ===>"+n.data.name),t.username=n.data.name)})),this.show=!0,this.$axios.get("/user/tv-list").then((function(e){console.log(e.data.data),console.log(e.data.data.content),t.tvs=e.data.data}),(function(t){console.log("error")}))},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},change:function(t){this.$forceUpdate()}},mounted:function(){this.getData(),window.addEventListener("keydown",this.keyDown)},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)}}),i=o,l=(n("3cd2"),n("2877")),r=Object(l["a"])(i,s,a,!1,null,null,null);e["default"]=r.exports},"3cd2":function(t,e,n){"use strict";n("d7ed")},b0c0:function(t,e,n){var s=n("83ab"),a=n("9bf2").f,o=Function.prototype,i=o.toString,l=/^\s*function ([^ (]*)/,r="name";s&&!(r in o)&&a(o,r,{configurable:!0,get:function(){try{return i.call(this).match(l)[1]}catch(t){return""}}})},d7ed:function(t,e,n){}}]);
//# sourceMappingURL=chunk-e48268c6.5bc86288.js.map