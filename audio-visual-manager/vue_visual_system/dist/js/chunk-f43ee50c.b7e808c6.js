(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f43ee50c"],{"08f3":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.show?s("div",{staticClass:"list-box"},[s("div",{staticClass:"category-list-box"},[s("el-table",{staticClass:"table_color",staticStyle:{width:"100%"},attrs:{data:t.musics.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),"row-class-name":t.tableRowClassName,"header-cell-style":t.getRowClass}},[s("el-table-column",{attrs:{width:"20"}}),s("el-table-column",{attrs:{prop:"id",label:"id",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticStyle:{color:"white","font-weight":"bold"},domProps:{textContent:t._s(e.row.id)}})]}}],null,!1,3795576427)}),s("el-table-column",{attrs:{prop:"name",label:"接口名称",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticStyle:{color:"white","font-weight":"bold"},domProps:{textContent:t._s(e.row.name)}})]}}],null,!1,4042567009)}),s("el-table-column",{attrs:{prop:"url",label:"接口地址",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticStyle:{width:"520px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",color:"white","font-weight":"bold"},domProps:{textContent:t._s(e.row.url)}})]}}],null,!1,1966456160)}),s("el-table-column",{attrs:{prop:"user",label:"添加人",width:"248"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticStyle:{color:"white","font-weight":"bold"},domProps:{textContent:t._s(e.row.user)}})]}}],null,!1,2371486039)}),s("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(s){return t.edit(e.row)}}},[t._v(" 修改 ")])]}}],null,!1,1561505789)})],1),s("div",{staticClass:"lables-dialog-box"},[s("el-dialog",{attrs:{title:t.movieText,visible:t.editMusic,width:"600px"},on:{"update:visible":function(e){t.editMusic=e}}},[s("div",{staticClass:"lable-add_box"},[s("el-form",{attrs:{"label-width":"80px"}},[s("el-form-item",{attrs:{label:"接口名称"}},[s("el-input",{on:{input:function(e){return t.change(e)}},model:{value:t.musicItems.name,callback:function(e){t.$set(t.musicItems,"name",e)},expression:"musicItems.name"}})],1),s("el-form-item",{attrs:{label:"接口地址"}},[s("el-input",{on:{input:function(e){return t.change(e)}},model:{value:t.musicItems.url,callback:function(e){t.$set(t.musicItems,"url",e)},expression:"musicItems.url"}})],1),s("el-form-item",{attrs:{label:"添加人"}},[s("el-input",{on:{input:function(e){return t.change(e)}},model:{value:t.musicItems.user,callback:function(e){t.$set(t.musicItems,"user",e)},expression:"musicItems.user"}})],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:t.cancelAddItem}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.editItem}},[t._v("确 定")])],1)])],1),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[8,9,10],"page-size":t.pagesize,layout:"total, sizes,prev, pager, next",total:t.musics.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)]):t._e()},i=[],a=(s("b0c0"),{data:function(){return{show:!1,currentPage:1,pagesize:8,musics:[],editMusic:!1,movieText:"",username:null,musicId:null,musicItems:[{name:"",url:"",user:""}]}},methods:{tableRowClassName:function(t){t.row;var e=t.rowIndex;return(e+1)%2===0?"double":"single"},getRowClass:function(t){var e=t.rowIndex;return 0==e?"background:#2d3a5c":""},edit:function(t){this.musicItems.name=t.name,this.musicItems.url=t.url,this.musicItems.user=t.user,this.musicId=t.id,this.movieText="修改电影接口",this.editMusic=!0},editItem:function(){var t=this;console.log("执行的编辑方法"),this.$axios.put("/admin/music-update?id="+this.musicId,{name:this.musicItems.name,url:this.musicItems.url,user:this.username}).then((function(e){console.log("result =>"+e),2e4===e.data.code?(t.sendMessage("修改成功","success"),t.getData()):t.sendMessage("修改失败","error")})),this.editMusic=!1},cancelAddItem:function(){this.editMusic=!1},sendMessage:function(t,e){this.$message({message:t,center:!0,type:e})},getData:function(){var t=this;this.$axios.get("/user/check-token").then((function(e){var s=e.data;2e4===s.code&&(console.log("username is ===>"+s.data.name),t.username=s.data.name)})),this.show=!0,this.$axios.get("/user/music-list").then((function(e){console.log(e.data.data),console.log(e.data.data.content),t.musics=e.data.data}),(function(t){console.log("error")}))},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},change:function(t){this.$forceUpdate()}},mounted:function(){this.getData(),window.addEventListener("keydown",this.keyDown)},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)}}),o=a,l=(s("99a3"),s("2877")),u=Object(l["a"])(o,n,i,!1,null,null,null);e["default"]=u.exports},"8ba3":function(t,e,s){},"99a3":function(t,e,s){"use strict";s("8ba3")},b0c0:function(t,e,s){var n=s("83ab"),i=s("9bf2").f,a=Function.prototype,o=a.toString,l=/^\s*function ([^ (]*)/,u="name";n&&!(u in a)&&i(a,u,{configurable:!0,get:function(){try{return o.call(this).match(l)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-f43ee50c.b7e808c6.js.map