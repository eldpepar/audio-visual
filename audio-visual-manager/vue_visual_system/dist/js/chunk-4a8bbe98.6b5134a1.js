(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a8bbe98"],{"222a":function(e,t,s){"use strict";s("dd8b")},8149:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{staticClass:"list-box"},[s("div",{staticClass:"category-list-box"},[s("el-table",{staticClass:"table_color",staticStyle:{width:"100%"},attrs:{data:e.users.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),"row-class-name":e.tableRowClassName,"header-cell-style":e.getRowClass}},[s("el-table-column",{attrs:{width:"20"}}),s("el-table-column",{attrs:{prop:"id",label:"id",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{color:"white","font-weight":"bold"},domProps:{textContent:e._s(t.row.id)}})]}}],null,!1,3795576427)}),s("el-table-column",{attrs:{prop:"name",label:"用户名",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{color:"white","font-weight":"bold"},domProps:{textContent:e._s(t.row.name)}})]}}],null,!1,4042567009)}),s("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"299"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{color:"white","font-weight":"bold"},domProps:{textContent:e._s(t.row.email)}})]}}],null,!1,3315409834)}),s("el-table-column",{attrs:{label:"头像",width:"190"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("div",[s("el-avatar",{attrs:{src:e.row.avatar}})],1)]}}],null,!1,3254357438)}),s("el-table-column",{attrs:{label:"状态",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.state?s("div",[s("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v("禁用")])],1):e._e(),"1"===t.row.state?s("div",[s("el-tag",{attrs:{type:"success",size:"medium"}},[e._v("正常")])],1):e._e()]}}],null,!1,1294392959)}),s("el-table-column",{attrs:{label:"操作",width:"159"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(s){return e.edit(t.row)}}},[e._v(" 修改 ")])]}}],null,!1,1561505789)}),s("el-table-column",{attrs:{width:"90"}})],1),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[8,9,10],layout:"total, sizes,prev, pager, next",total:e.users.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),s("div",{staticClass:"lables-dialog-box"},[s("el-dialog",{attrs:{title:"修改用户",visible:e.editUser,width:"600px"},on:{"update:visible":function(t){e.editUser=t}}},[s("div",{staticClass:"lable-add_box"},[s("el-form",{attrs:{"label-width":"60px"}},[s("el-form-item",{attrs:{label:"用户名"}},[s("el-input",{on:{input:function(t){return e.change(t)}},model:{value:e.UsersItems.name,callback:function(t){e.$set(e.UsersItems,"name",t)},expression:"UsersItems.name"}})],1),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{attrs:{type:"password"},on:{input:function(t){return e.change(t)}},model:{value:e.UsersItems.password,callback:function(t){e.$set(e.UsersItems,"password",t)},expression:"UsersItems.password"}})],1),s("el-form-item",{attrs:{label:"邮箱"}},[s("el-input",{on:{input:function(t){return e.change(t)}},model:{value:e.UsersItems.email,callback:function(t){e.$set(e.UsersItems,"email",t)},expression:"UsersItems.email"}})],1),s("el-form-item",{attrs:{label:"头像"}},[s("el-input",{on:{input:function(t){return e.change(t)}},model:{value:e.UsersItems.avatar,callback:function(t){e.$set(e.UsersItems,"avatar",t)},expression:"UsersItems.avatar"}})],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:e.cancelAddItem}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.editItem}},[e._v("确 定")])],1)])],1)],1)],1)]):e._e()},n=[],i=(s("b0c0"),{data:function(){return{show:!1,currentPage:1,pagesize:8,users:[],editUser:!1,userId:null,userText:null,UsersItems:[{name:"",password:"",email:"",avatar:""}]}},methods:{tableRowClassName:function(e){e.row;var t=e.rowIndex;return(t+1)%2===0?"double":"single"},getRowClass:function(e){var t=e.rowIndex;return 0==t?"background:#2d3a5c":""},keyDown:function(e){13==e.keyCode&&this.addItem()},sendMessage:function(e,t){this.$message({message:e,center:!0,type:t})},cancelAddItem:function(){this.editUser=!1},cancelItem:function(){this.deleteDialogShow=!1},edit:function(e){this.UsersItems.name=e.name,this.UsersItems.password=e.password,this.UsersItems.email=e.email,this.UsersItems.avatar=e.avatar,this.userId=e.id,this.userText="修改电影接口",this.editUser=!0},editItem:function(){var e=this;console.log("执行的编辑方法"),this.$axios.put("/root/user/"+this.userId,{name:this.UsersItems.name,password:this.UsersItems.password,avatar:this.UsersItems.avatar,email:this.UsersItems.email}).then((function(t){console.log("result =>"+t),2e4===t.data.code?(e.sendMessage("修改成功","success"),e.getData()):e.sendMessage("修改失败","error")})),this.userId=null,this.lablesItems={},this.editUser=!1},getData:function(){var e=this;this.show=!0,this.$axios.get("/root/list").then((function(t){console.log(t.data.data),e.users=t.data.data}),(function(e){console.log("error")}))},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},change:function(e){this.$forceUpdate()}},mounted:function(){this.getData(),window.addEventListener("keydown",this.keyDown)},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)}}),o=i,r=(s("222a"),s("2877")),l=Object(r["a"])(o,a,n,!1,null,null,null);t["default"]=l.exports},b0c0:function(e,t,s){var a=s("83ab"),n=s("9bf2").f,i=Function.prototype,o=i.toString,r=/^\s*function ([^ (]*)/,l="name";a&&!(l in i)&&n(i,l,{configurable:!0,get:function(){try{return o.call(this).match(r)[1]}catch(e){return""}}})},dd8b:function(e,t,s){}}]);
//# sourceMappingURL=chunk-4a8bbe98.6b5134a1.js.map