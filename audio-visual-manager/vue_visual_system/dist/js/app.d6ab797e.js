(function(e){function n(n){for(var c,o,d=n[0],u=n[1],r=n[2],l=0,h=[];l<d.length;l++)o=d[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);f&&f(n);while(h.length)h.shift()();return a.push.apply(a,r||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],c=!0,o=1;o<t.length;o++){var d=t[o];0!==i[d]&&(c=!1)}c&&(a.splice(n--,1),e=u(u.s=t[0]))}return e}var c={},o={app:0},i={app:0},a=[];function d(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-027f2de6":"04c5ae70","chunk-13ba43a7":"be9fc0f1","chunk-1f1144be":"648157a7","chunk-2380998f":"69f9a911","chunk-23df1de2":"795285c5","chunk-28d72801":"c53bc89a","chunk-37edeb46":"6779368a","chunk-391a5dd9":"da802227","chunk-40fcd65e":"7e89e25d","chunk-4a8bbe98":"6b5134a1","chunk-4b29a796":"885ffc84","chunk-61061832":"eb557513","chunk-658e7602":"fa36f589","chunk-6c184987":"4df70547","chunk-729d2f46":"5e8d470c","chunk-7be30251":"120174e1","chunk-7bf3a31f":"edd16801","chunk-b612dffc":"c458a9c9","chunk-e48268c6":"5bc86288","chunk-ed6f2680":"e4a0ab24","chunk-f43ee50c":"b7e808c6"}[e]+".js"}function u(n){if(c[n])return c[n].exports;var t=c[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.e=function(e){var n=[],t={"chunk-027f2de6":1,"chunk-13ba43a7":1,"chunk-1f1144be":1,"chunk-2380998f":1,"chunk-23df1de2":1,"chunk-28d72801":1,"chunk-37edeb46":1,"chunk-391a5dd9":1,"chunk-40fcd65e":1,"chunk-4a8bbe98":1,"chunk-4b29a796":1,"chunk-61061832":1,"chunk-658e7602":1,"chunk-6c184987":1,"chunk-729d2f46":1,"chunk-7be30251":1,"chunk-7bf3a31f":1,"chunk-b612dffc":1,"chunk-e48268c6":1,"chunk-ed6f2680":1,"chunk-f43ee50c":1};o[e]?n.push(o[e]):0!==o[e]&&t[e]&&n.push(o[e]=new Promise((function(n,t){for(var c="css/"+({}[e]||e)+"."+{"chunk-027f2de6":"09a36ad9","chunk-13ba43a7":"09a36ad9","chunk-1f1144be":"2d220d92","chunk-2380998f":"09a36ad9","chunk-23df1de2":"09a36ad9","chunk-28d72801":"09a36ad9","chunk-37edeb46":"09a36ad9","chunk-391a5dd9":"24878600","chunk-40fcd65e":"09a36ad9","chunk-4a8bbe98":"09a36ad9","chunk-4b29a796":"09a36ad9","chunk-61061832":"09a36ad9","chunk-658e7602":"cb369c5c","chunk-6c184987":"09a36ad9","chunk-729d2f46":"09a36ad9","chunk-7be30251":"09a36ad9","chunk-7bf3a31f":"09a36ad9","chunk-b612dffc":"18970864","chunk-e48268c6":"09a36ad9","chunk-ed6f2680":"043b4182","chunk-f43ee50c":"09a36ad9"}[e]+".css",i=u.p+c,a=document.getElementsByTagName("link"),d=0;d<a.length;d++){var r=a[d],l=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(l===c||l===i))return n()}var h=document.getElementsByTagName("style");for(d=0;d<h.length;d++){r=h[d],l=r.getAttribute("data-href");if(l===c||l===i)return n()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=n,f.onerror=function(n){var c=n&&n.target&&n.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=c,delete o[e],f.parentNode.removeChild(f),t(a)},f.href=i;var s=document.getElementsByTagName("head")[0];s.appendChild(f)})).then((function(){o[e]=0})));var c=i[e];if(0!==c)if(c)n.push(c[2]);else{var a=new Promise((function(n,t){c=i[e]=[n,t]}));n.push(c[2]=a);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=d(e);var h=new Error;r=function(n){l.onerror=l.onload=null,clearTimeout(f);var t=i[e];if(0!==t){if(t){var c=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;h.message="Loading chunk "+e+" failed.\n("+c+": "+o+")",h.name="ChunkLoadError",h.type=c,h.request=o,t[1](h)}i[e]=void 0}};var f=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(n)},u.m=e,u.c=c,u.d=function(e,n,t){u.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,n){if(1&n&&(e=u(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var c in e)u.d(t,c,function(n){return e[n]}.bind(null,c));return t},u.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(n,"a",n),n},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},u.p="/",u.oe=function(e){throw console.error(e),e};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=n,r=r.slice();for(var h=0;h<r.length;h++)n(r[h]);var f=l;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";t("85ec")},"228e":function(e,n,t){},"360e":function(e,n,t){"use strict";t("228e")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var c=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},i=[],a={name:"App"},d=a,u=(t("034f"),t("2877")),r=Object(u["a"])(d,o,i,!1,null,null,null),l=r.exports,h=(t("d3b7"),t("8c4f"));c["default"].use(h["a"]);var f=function(){return t.e("chunk-391a5dd9").then(t.bind(null,"b479"))},s=function(){return t.e("chunk-40fcd65e").then(t.bind(null,"4896"))},p=function(){return t.e("chunk-13ba43a7").then(t.bind(null,"97e0"))},m=function(){return t.e("chunk-4b29a796").then(t.bind(null,"e2cb"))},k=function(){return t.e("chunk-7be30251").then(t.bind(null,"6019"))},b=function(){return t.e("chunk-7bf3a31f").then(t.bind(null,"b22f"))},v=function(){return t.e("chunk-37edeb46").then(t.bind(null,"4697"))},g=function(){return t.e("chunk-729d2f46").then(t.bind(null,"a23b"))},y=function(){return t.e("chunk-e48268c6").then(t.bind(null,"0e81"))},_=function(){return t.e("chunk-658e7602").then(t.bind(null,"daf1"))},x=function(){return t.e("chunk-2380998f").then(t.bind(null,"8556"))},w=function(){return t.e("chunk-027f2de6").then(t.bind(null,"74cf"))},O=function(){return t.e("chunk-61061832").then(t.bind(null,"ce82"))},j=function(){return t.e("chunk-f43ee50c").then(t.bind(null,"08f3"))},C=function(){return t.e("chunk-28d72801").then(t.bind(null,"952a"))},E=function(){return t.e("chunk-6c184987").then(t.bind(null,"aea9"))},S=function(){return t.e("chunk-23df1de2").then(t.bind(null,"bd90"))},L=function(){return t.e("chunk-4a8bbe98").then(t.bind(null,"8149"))},P=function(){return t.e("chunk-b612dffc").then(t.bind(null,"105c"))},$=function(){return t.e("chunk-ed6f2680").then(t.bind(null,"0021"))},T=function(){return t.e("chunk-1f1144be").then(t.bind(null,"eadd"))},A=[{path:"",component:P,redirect:"/index",children:[{path:"/index",hidden:!1,name:"首页",icon:"el-icon-s-home",component:_},{path:"/movie",hidden:!1,name:"电影",icon:"el-icon-video-play",component:$,children:[{path:"movie-modify-manager",hidden:!1,name:"修改电影接口",icon:"el-icon-edit",component:k},{path:"manager-movie-add",hidden:!1,name:"添加电影接口",icon:"el-icon-circle-plus-outline",component:s},{path:"movie-list",hidden:!1,name:"电影接口列表",icon:"el-icon-tickets",component:p},{path:"movie-delete",hidden:!1,name:"删除电影接口",icon:"el-icon-delete",component:m}]},{path:"/music",hidden:!1,name:"音乐",icon:"el-icon-headset",component:$,children:[{path:"music-modify-manager",hidden:!1,name:"修改音乐接口",icon:"el-icon-edit",component:j},{path:"manager-music-add",hidden:!1,name:"添加音乐接口",icon:"el-icon-circle-plus-outline",component:x},{path:"music-list",hidden:!1,name:"音乐接口列表",icon:"el-icon-tickets",component:w},{path:"music-delete",hidden:!1,name:"删除音乐接口",icon:"el-icon-delete",component:O}]},{path:"/tv",hidden:!1,name:"电视",icon:"el-icon-video-camera",component:$,children:[{path:"tv-modify-manager",hidden:!1,name:"修改电视接口",icon:"el-icon-edit",component:y},{path:"manager-tv-add",hidden:!1,name:"添加电视接口",icon:"el-icon-circle-plus-outline",component:b},{path:"tv-list",hidden:!1,name:"电视接口列表",icon:"el-icon-tickets",component:v},{path:"tv-delete",hidden:!1,name:"删除电视接口",icon:"el-icon-delete",component:g}]},{path:"/user",hidden:!0,name:"用户",icon:"el-icon-user",component:$,children:[{path:"list",hidden:!1,name:"用户列表",icon:"el-icon-s-data",component:S},{path:"user-add",hidden:!1,name:"添加用户",icon:"el-icon-document-add",component:C},{path:"user-set",hidden:!1,name:"用户管理",icon:"el-icon-box",component:E},{path:"user-info-manager",hidden:!1,name:"用户信息",icon:"el-icon-setting",component:L}]}]},{path:"/login",component:f},{path:"/forbidden",component:T}],M=[{path:"",component:P,redirect:"/index",children:[{path:"/index",hidden:!1,name:"首页",icon:"el-icon-s-home",component:_},{path:"/movie",hidden:!1,name:"电影",icon:"el-icon-video-play",component:$,children:[{path:"movie-modify-manager",hidden:!1,name:"修改电影接口",icon:"el-icon-edit",component:k},{path:"manager-movie-add",hidden:!1,name:"添加电影接口",icon:"el-icon-circle-plus-outline",component:s},{path:"movie-list",hidden:!1,name:"电影接口列表",icon:"el-icon-tickets",component:p},{path:"movie-delete",hidden:!1,name:"删除电影接口",icon:"el-icon-delete",component:m}]},{path:"/music",hidden:!1,name:"音乐",icon:"el-icon-headset",component:$,children:[{path:"music-modify-manager",hidden:!1,name:"修改音乐接口",icon:"el-icon-edit",component:j},{path:"manager-music-add",hidden:!1,name:"添加音乐接口",icon:"el-icon-circle-plus-outline",component:x},{path:"music-list",hidden:!1,name:"音乐接口列表",icon:"el-icon-tickets",component:w},{path:"music-delete",hidden:!1,name:"删除音乐接口",icon:"el-icon-delete",component:O}]},{path:"/tv",hidden:!1,name:"电视",icon:"el-icon-video-camera",component:$,children:[{path:"tv-modify-manager",hidden:!1,name:"修改电视接口",icon:"el-icon-edit",component:y},{path:"manager-tv-add",hidden:!1,name:"添加电视接口",icon:"el-icon-circle-plus-outline",component:b},{path:"tv-list",hidden:!1,name:"电视接口列表",icon:"el-icon-tickets",component:v},{path:"tv-delete",hidden:!1,name:"删除电视接口",icon:"el-icon-delete",component:g}]},{path:"/user",hidden:!1,name:"用户",icon:"el-icon-user",component:$,children:[{path:"list",hidden:!1,name:"用户列表",icon:"el-icon-s-data",component:S},{path:"user-add",hidden:!1,name:"添加用户",icon:"el-icon-document-add",component:C},{path:"user-set",hidden:!1,name:"用户管理",icon:"el-icon-box",component:E},{path:"user-info-manager",hidden:!1,name:"用户信息",icon:"el-icon-setting",component:L}]}]},{path:"/login",component:f},{path:"/forbidden",component:T}],N=h["a"].prototype.push;h["a"].prototype.push=function(e,n,t){return n||t?N.call(this,e,n,t):N.call(this,e).catch((function(e){return e}))};var q=new h["a"]({async:M,routes:A}),B=q,D=t("5c96"),H=t.n(D),J=(t("0fae"),t("bc3a")),F=t.n(J),I=t("00e7"),K=t.n(I),U=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":"0","unique-opened":!0,"background-color":"#262d47"}},[e._l(e.menuList,(function(n,c){return[n.children||n.hidden?e._e():t("router-link",{key:c,attrs:{to:n.path}},[t("el-menu-item",{attrs:{index:c+""}},[t("i",{class:n.icon}),t("span",{staticStyle:{color:"#ffffff"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(n.name))])])],1),n.children&&!n.hidden?t("el-submenu",{key:c,attrs:{index:c+""}},[t("template",{slot:"title"},[t("i",{class:n.icon}),t("span",{staticStyle:{color:"#ffffff"}},[e._v(e._s(n.name))])]),e._l(n.children,(function(o,i){return t("router-link",{key:i,attrs:{to:n.path+"/"+o.path}},[o.hidden?e._e():t("el-menu-item",{attrs:{index:c+"-"+i}},[t("i",{class:o.icon}),t("span",{staticStyle:{color:"#ffffff"},attrs:{slot:"title"},domProps:{textContent:e._s(o.name)},slot:"title"})])],1)}))],2):e._e()]}))],2)],1)},z=[],G={data:function(){return{menuList:[]}},mounted:function(){var e=this;this.$axios.get("/user/check-token").then((function(n){var t=n.data;if(2e4===t.code)if("role_root"===t.data.roles){console.log("是超级管理员");var c=M[0];e.menuList=c.children}else{console.log("是普通管理员");var o=A[0];e.menuList=o.children}}))}},Q=G,R=(t("360e"),Object(u["a"])(Q,U,z,!1,null,null,null)),V=R.exports,W=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e._m(0),t("div",{staticClass:"header-right-box",staticStyle:{cursor:"pointer"},on:{click:e.doLogout}},[t("i",{staticClass:"el-icon-switch-button"}),t("span",[e._v("退出")])])])},X=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"header-left-box"},[t("div",{staticClass:"header-logo"},[e._v("光子影音后台管理系统")])])}],Y={data:function(){return{}},methods:{doLogout:function(){var e=this;this.$axios.get("/user/logout").then((function(n){var t=n.data;2e4===t.code&&(e.$message({message:"退出登录成功",center:!0,type:"success"}),e.$router.push("/login"))}),(function(e){console.log("error")}))}}},Z=Y,ee=(t("63e9"),Object(u["a"])(Z,W,X,!1,null,null,null)),ne=ee.exports;c["default"].prototype.$axios=F.a,c["default"].prototype.$cookie=K.a,c["default"].config.productionTip=!1,F.a.defaults.withCredentials=!0,c["default"].component("leftMenu",V),c["default"].component("topHeader",ne),c["default"].use(H.a),c["default"].use(K.a),B.beforeEach((function(e,n,t){if("/login"===e.path||"/forbidden"===e.path)t();else{var c=K.a.get("cookie-token-key");null===c?t({path:"/login"}):(F.a.get("/user/check-token").then((function(e){var n=e.data;2e4===n.code?"role_admin"===n.data.roles||"role_root"===n.data.roles?t():t({path:"/forbidden"}):t({path:"/login"})}),(function(e){console.log("error")})),console.log(c))}})),new c["default"]({router:B,render:function(e){return e(l)}}).$mount("#app")},"63e9":function(e,n,t){"use strict";t("af3f")},"85ec":function(e,n,t){},af3f:function(e,n,t){}});
//# sourceMappingURL=app.d6ab797e.js.map