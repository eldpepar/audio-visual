(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2380998f"],{"32f3":function(t,e,s){},8556:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.show?s("div",{staticClass:"list-box"},[s("div",{staticClass:"category-action-bar"},[s("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.addItemMusic}},[t._v("添加音乐解析接口")])],1),s("div",{staticClass:"category-list-box"},[s("el-table",{staticClass:"table_color",staticStyle:{width:"100%"},attrs:{data:t.musics.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),"row-class-name":t.tableRowClassName,"header-cell-style":t.getRowClass}},[s("el-table-column",{attrs:{width:"20"}}),s("el-table-column",{attrs:{prop:"id",label:"id",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticStyle:{color:"white","font-weight":"bold"},domProps:{textContent:t._s(e.row.id)}})]}}],null,!1,3795576427)}),s("el-table-column",{attrs:{prop:"name",label:"接口名称",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticStyle:{color:"white","font-weight":"bold"},domProps:{textContent:t._s(e.row.name)}})]}}],null,!1,4042567009)}),s("el-table-column",{attrs:{prop:"url",label:"接口地址",width:"539"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticStyle:{width:"520px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",color:"white","font-weight":"bold"},domProps:{textContent:t._s(e.row.url)}})]}}],null,!1,1966456160)}),s("el-table-column",{attrs:{prop:"user",label:"添加人",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticStyle:{color:"white","font-weight":"bold"},domProps:{textContent:t._s(e.row.user)}})]}}],null,!1,2371486039)}),s("el-table-column",{attrs:{width:"200"}})],1),s("div",{staticClass:"lables-dialog-box"},[s("el-dialog",{attrs:{title:t.musicText,visible:t.editMusic,width:"600px"},on:{"update:visible":function(e){t.editMusic=e}}},[s("div",{staticClass:"lable-add_box"},[s("el-form",{attrs:{"label-width":"80px"}},[s("el-form-item",{attrs:{label:"接口名称"}},[s("el-input",{on:{input:function(e){return t.change(e)}},model:{value:t.musicItems.name,callback:function(e){t.$set(t.musicItems,"name",e)},expression:"musicItems.name"}})],1),s("el-form-item",{attrs:{label:"接口地址"}},[s("el-input",{on:{input:function(e){return t.change(e)}},model:{value:t.musicItems.url,callback:function(e){t.$set(t.musicItems,"url",e)},expression:"musicItems.url"}})],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:t.cancelAddItem}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.addItem}},[t._v("确 定")])],1)])],1),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[8,9,10],"page-size":t.pagesize,layout:"total, sizes,prev, pager, next",total:t.musics.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)]):t._e()},i=[],a=(s("b0c0"),{data:function(){return{show:!1,currentPage:1,pagesize:8,musics:[],editMusic:!1,musicText:"",username:null,movieId:null,musicItems:[{id:"",name:"",url:"",user:""}]}},methods:{tableRowClassName:function(t){t.row;var e=t.rowIndex;return(e+1)%2===0?"double":"single"},getRowClass:function(t){var e=t.rowIndex;return 0==e?"background:#2d3a5c":""},edit:function(t){this.musicItems.name=t.name,this.musicItems.url=t.url,this.musicItems.user=t.user,this.movieId=t.id,this.musicText="修改音乐接口",this.editMusic=!0},addItem:function(){var t=this;console.log("执行的添加方法"),this.$axios.post("/admin/music-add",{name:this.musicItems.name,url:this.musicItems.url,user:this.username}).then((function(e){2e4===e.data.code?(t.sendMessage("添加成功","success"),t.getData()):t.sendMessage("添加失败","error")})),this.editMusic=!1},addItemMusic:function(){this.editMusic=!0},cancelAddItem:function(){this.editMusic=!1},sendMessage:function(t,e){this.$message({message:t,center:!0,type:e})},getData:function(){var t=this;this.$axios.get("/user/check-token").then((function(e){var s=e.data;2e4===s.code&&(console.log("username is ===>"+s.data.name),t.username=s.data.name)})),this.show=!0,this.$axios.get("/user/music-list").then((function(e){console.log(e.data.data),console.log(e.data.data.content),t.musics=e.data.data}),(function(t){console.log("error")}))},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},change:function(t){this.$forceUpdate()}},mounted:function(){this.getData(),window.addEventListener("keydown",this.keyDown)},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)}}),o=a,l=(s("d967"),s("2877")),c=Object(l["a"])(o,n,i,!1,null,null,null);e["default"]=c.exports},b0c0:function(t,e,s){var n=s("83ab"),i=s("9bf2").f,a=Function.prototype,o=a.toString,l=/^\s*function ([^ (]*)/,c="name";n&&!(c in a)&&i(a,c,{configurable:!0,get:function(){try{return o.call(this).match(l)[1]}catch(t){return""}}})},d967:function(t,e,s){"use strict";s("32f3")}}]);
//# sourceMappingURL=chunk-2380998f.69f9a911.js.map