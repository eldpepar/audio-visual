{"remainingRequest":"H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\thread-loader\\dist\\cjs.js!H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\babel-loader\\lib\\index.js!H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!H:\\audio-visual\\manager_ui\\vue_blog_system\\src\\page\\login\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"H:\\audio-visual\\manager_ui\\vue_blog_system\\src\\page\\login\\login.vue","mtime":1605885992265},{"path":"H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzb2JVc2VyOiB7CiAgICAgICAgdXNlck5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBsb2dpbkluZm86IHsKICAgICAgICB2ZXJpZnlDb2RlOiAiIiwKICAgICAgICBjYXB0Y2hhX2tleTogIiIKICAgICAgfSwKICAgICAgY2FwdGNoYVBhdGg6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdG9hc3RFcnJvcjogZnVuY3Rpb24gdG9hc3RFcnJvcihtc2cpIHsKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgbWVzc2FnZTogbXNnLAogICAgICAgIGNlbnRlcjogdHJ1ZSwKICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgIH0pOwogICAgfSwKICAgIGtleURvd246IGZ1bmN0aW9uIGtleURvd24oZSkgewogICAgICAvL+WmguaenOaYr+Wbnui9puWImeaJp+ihjOeZu+W9leaWueazlQogICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7CiAgICAgICAgdGhpcy5kb0xvZ2luKCk7CiAgICAgIH0KICAgIH0sCiAgICBkb0xvZ2luOiBmdW5jdGlvbiBkb0xvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc29iVXNlci51c2VyTmFtZSA9PT0gIiIpIHsKICAgICAgICB0aGlzLnRvYXN0RXJyb3IoIui0puWPt+S4jeiDveS4uuepuiIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc29iVXNlci5wYXNzd29yZCA9PT0gIiIpIHsKICAgICAgICB0aGlzLnRvYXN0RXJyb3IoIuWvhueggeS4jeiDveS4uuepuiIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMubG9naW5JbmZvLnZlcmlmeUNvZGUgPT09ICIiKSB7CiAgICAgICAgdGhpcy50b2FzdEVycm9yKCLpqozor4HnoIHkuI3og73kuLrnqboiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICB1cmw6ICIvdXNlci8iICsgdGhpcy5sb2dpbkluZm8udmVyaWZ5Q29kZSArICIvIiArIHRoaXMubG9naW5JbmZvLmNhcHRjaGFfa2V5LAogICAgICAgIGRhdGE6IHRoaXMuc29iVXNlcgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBjb25zb2xlLmxvZygicmVzdWx0ID0+IiArIHJlc3VsdC5kYXRhKTsKICAgICAgICB2YXIgZGF0YSA9IHJlc3VsdC5kYXRhOwoKICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDAwMCkgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgIGNlbnRlcjogdHJ1ZSwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9pbmRleCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy51cGRhdGFWZXJpZnlDb2RlKCk7CgogICAgICAgICAgX3RoaXMudG9hc3RFcnJvcihkYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRhVmVyaWZ5Q29kZTogZnVuY3Rpb24gdXBkYXRhVmVyaWZ5Q29kZSgpIHsKICAgICAgdGhpcy5jYXB0Y2hhUGF0aCA9ICIvdXNlci9jYXB0Y2hhP2NhcHRjaGFLZXk9IiArIHRoaXMubG9naW5JbmZvLmNhcHRjaGFfa2V5ICsgIiZyYW5kb209IiArIERhdGUucGFyc2UobmV3IERhdGUoKSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5sb2dpbkluZm8uY2FwdGNoYV9rZXkgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKCkpOwogICAgdGhpcy51cGRhdGFWZXJpZnlDb2RlKCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIHRoaXMua2V5RG93bik7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgdGhpcy5rZXlEb3duLCBmYWxzZSk7CiAgfQp9Ow=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAMA,MAAA,SAAA,EAAA;AACA,QAAA,UAAA,EAAA,EADA;AAEA,QAAA,WAAA,EAAA;AAFA,OANA;AAUA,MAAA,WAAA,EAAA;AAVA,KAAA;AAYA,GAdA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,GADA,EACA;AACA,WAAA,QAAA,CAAA;AACA,QAAA,OAAA,EAAA,GADA;AAEA,QAAA,MAAA,EAAA,IAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA;AAKA,KAPA;AAQA,IAAA,OARA,mBAQA,CARA,EAQA;AACA;AACA,UAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA;AACA,aAAA,OAAA;AACA;AACA,KAbA;AAeA,IAAA,OAfA,qBAeA;AAAA;;AACA,UAAA,KAAA,OAAA,CAAA,QAAA,KAAA,EAAA,EAAA;AACA,aAAA,UAAA,CAAA,QAAA;AACA;AACA;;AACA,UAAA,KAAA,OAAA,CAAA,QAAA,KAAA,EAAA,EAAA;AACA,aAAA,UAAA,CAAA,QAAA;AACA;AACA;;AACA,UAAA,KAAA,SAAA,CAAA,UAAA,KAAA,EAAA,EAAA;AACA,aAAA,UAAA,CAAA,SAAA;AACA;AACA;;AACA,WAAA,MAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EACA,WACA,KAAA,SAAA,CAAA,UADA,GAEA,GAFA,GAGA,KAAA,SAAA,CAAA,WANA;AAOA,QAAA,IAAA,EAAA,KAAA;AAPA,OAAA,EAQA,IARA,CAQA,UAAA,MAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,cAAA,MAAA,CAAA,IAAA;AACA,YAAA,IAAA,GAAA,MAAA,CAAA,IAAA;;AACA,YAAA,IAAA,CAAA,IAAA,KAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,IAAA,CAAA,OADA;AAEA,YAAA,MAAA,EAAA,IAFA;AAGA,YAAA,IAAA,EAAA;AAHA,WAAA;;AAKA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,SAPA,MAOA;AACA,UAAA,KAAA,CAAA,gBAAA;;AACA,UAAA,KAAA,CAAA,UAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,OAtBA;AAuBA,KAnDA;AAoDA,IAAA,gBApDA,8BAoDA;AACA,WAAA,WAAA,GACA,8BACA,KAAA,SAAA,CAAA,WADA,GAEA,UAFA,GAGA,IAAA,CAAA,KAAA,CAAA,IAAA,IAAA,EAAA,CAJA;AAKA;AA1DA,GAhBA;AA4EA,EAAA,OA5EA,qBA4EA;AACA,SAAA,SAAA,CAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,IAAA,EAAA,CAAA;AACA,SAAA,gBAAA;AAEA,IAAA,MAAA,CAAA,gBAAA,CAAA,SAAA,EAAA,KAAA,OAAA;AACA,GAjFA;AAkFA,EAAA,SAlFA,uBAkFA;AACA,IAAA,MAAA,CAAA,mBAAA,CAAA,SAAA,EAAA,KAAA,OAAA,EAAA,KAAA;AACA;AApFA,CAAA","sourcesContent":["<template>\r\n  <div class=\"admin-login-box\">\r\n    <div class=\"admin-login-header-box\">\r\n      <div class=\"admin-login-header-center center\">\r\n        <div class=\"admin-login-logo\">光子影音后台系统|登录</div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"admin-login-center-box\">\r\n      <div class=\"login-center-box center\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"11\">\r\n            <el-form label-position=\"right\" label-width=\"80px\">\r\n              <el-form-item label=\"账号\" required>\r\n                <el-input\r\n                  v-model=\"sobUser.userName\"\r\n                  placeholder=\"用户名\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"密码\" required>\r\n                <el-input\r\n                  v-model=\"sobUser.password\"\r\n                  placeholder=\"密码\"\r\n                  type=\"password\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"验证码\" required>\r\n                <el-input\r\n                  v-model=\"loginInfo.verifyCode\"\r\n                  placeholder=\"请输入验证码\"\r\n                  class=\"captcha-code-input-box\"\r\n                ></el-input>\r\n                <img\r\n                  :src=\"captchaPath\"\r\n                  @click=\"updataVerifyCode\"\r\n                  class=\"captcha_code\"\r\n                />\r\n              </el-form-item>\r\n\r\n              <el-form-item>\r\n                <el-button type=\"primary\" @click=\"doLogin\" size=\"small\">\r\n                  登 录\r\n                </el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      sobUser: {\r\n        userName: \"\",\r\n        password: \"\",\r\n      },\r\n\r\n      loginInfo: {\r\n        verifyCode: \"\",\r\n        captcha_key: \"\",\r\n      },\r\n      captchaPath: \"\",\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    toastError(msg) {\r\n      this.$message({\r\n        message: msg,\r\n        center: true,\r\n        type: \"error\",\r\n      });\r\n    },\r\n    keyDown(e) {\r\n      //如果是回车则执行登录方法\r\n      if (e.keyCode == 13) {\r\n        this.doLogin();\r\n      }\r\n    },\r\n\r\n    doLogin() {\r\n      if (this.sobUser.userName === \"\") {\r\n        this.toastError(\"账号不能为空\");\r\n        return;\r\n      }\r\n      if (this.sobUser.password === \"\") {\r\n        this.toastError(\"密码不能为空\");\r\n        return;\r\n      }\r\n      if (this.loginInfo.verifyCode === \"\") {\r\n        this.toastError(\"验证码不能为空\");\r\n        return;\r\n      }\r\n      this.$axios({\r\n        method: \"post\",\r\n        url:\r\n          \"/user/\" +\r\n          this.loginInfo.verifyCode +\r\n          \"/\" +\r\n          this.loginInfo.captcha_key,\r\n        data: this.sobUser,\r\n      }).then((result) => {\r\n        console.log(\"result =>\" + result.data);\r\n        let data = result.data;\r\n        if (data.code === 20000) {\r\n          this.$message({\r\n            message: data.message,\r\n            center: true,\r\n            type: \"success\",\r\n          });\r\n          this.$router.push(\"/index\");\r\n        } else {\r\n          this.updataVerifyCode();\r\n          this.toastError(data.message);\r\n        }\r\n      });\r\n    },\r\n    updataVerifyCode() {\r\n      this.captchaPath =\r\n        \"/user/captcha?captchaKey=\" +\r\n        this.loginInfo.captcha_key +\r\n        \"&random=\" +\r\n        Date.parse(new Date());\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loginInfo.captcha_key = Date.parse(new Date());\r\n    this.updataVerifyCode();\r\n\r\n    window.addEventListener(\"keydown\", this.keyDown);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"keydown\", this.keyDown, false);\r\n  }\r\n};\r\n</script>\r\n\r\n<style >\r\n.captcha_code {\r\n  cursor: pointer;\r\n  width: 100px;\r\n  height: 40px;\r\n  vertical-align: middle;\r\n  margin-left: 10px;\r\n  border: solid 1px #e6e6e6;\r\n}\r\n\r\n.admin-login-header-box {\r\n  width: 100%;\r\n  height: 46px;\r\n  background:  #262d47;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.center {\r\n  margin: 0 auto;\r\n  width: 1140px;\r\n}\r\n\r\n.admin-login-header-center {\r\n  line-height: 46px;\r\n}\r\n\r\n.login-center-box .el-input {\r\n  width: 70%;\r\n}\r\n\r\n.login-center-box {\r\n  border-radius: 4px;\r\n  width: 1100px;\r\n  padding: 20px;\r\n  background: #ffffff;\r\n  box-shadow: 0 1px 10px #afafaf;\r\n}\r\n\r\n.admin-login-logo {\r\n  color: #ffffff;\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n}\r\n\r\n.login-cneter-box .el-input inner {\r\n  border: solid 1px #e6e6e6;\r\n  height: 42px;\r\n  border-radius: 0;\r\n}\r\n\r\n.login-center-box .el-form-item label {\r\n  background: #fbfbfb;\r\n  border-left: solid 1px #e6e6e6;\r\n  border-top: solid 1px #e6e6e6;\r\n  border-bottom: solid 1px #e6e6e6;\r\n  text-align: center;\r\n}\r\n</style>"],"sourceRoot":"src/page/login"}]}