{"remainingRequest":"H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\thread-loader\\dist\\cjs.js!H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\babel-loader\\lib\\index.js!H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\eslint-loader\\index.js??ref--13-0!H:\\audio-visual\\manager_ui\\vue_blog_system\\src\\main.js","dependencies":[{"path":"H:\\audio-visual\\manager_ui\\vue_blog_system\\src\\main.js","mtime":1616758313047},{"path":"H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"H:\\audio-visual\\manager_ui\\vue_blog_system\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJIOlxcYXVkaW8tdmlzdWFsXFxtYW5hZ2VyX3VpXFx2dWVfYmxvZ19zeXN0ZW1cXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgIkg6XFxhdWRpby12aXN1YWxcXG1hbmFnZXJfdWlcXHZ1ZV9ibG9nX3N5c3RlbVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJIOlxcYXVkaW8tdmlzdWFsXFxtYW5hZ2VyX3VpXFx2dWVfYmxvZ19zeXN0ZW1cXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiSDpcXGF1ZGlvLXZpc3VhbFxcbWFuYWdlcl91aVxcdnVlX2Jsb2dfc3lzdGVtXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnByb21pc2UuZmluYWxseS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IEFwcCBmcm9tICcuL0FwcC52dWUnOwppbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJzsgLy8g6aW/5LqG5LmIdWkKCmltcG9ydCBFbGVtZW50VUkgZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCAnZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvaW5kZXguY3NzJzsgLy/nvZHnu5znm7jlhbMKCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7ClZ1ZS5wcm90b3R5cGUuJGF4aW9zID0gYXhpb3M7IC8vY29va2ll55u45YWzCgppbXBvcnQgY29va2llIGZyb20gJ3Z1ZS1jb29raWUnOwpWdWUucHJvdG90eXBlLiRjb29raWUgPSBjb29raWU7CmltcG9ydCBsZWZ0TWVudSBmcm9tICcuL2xheW91dC9sZWZ0LW1lbnUnOwppbXBvcnQgdG9wSGVhZGVyIGZyb20gJy4vbGF5b3V0L3RvcC1oZWFkZXInOwpWdWUuY29uZmlnLnByb2R1Y3Rpb25UaXAgPSBmYWxzZTsKYXhpb3MuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsgLy/ms6jlhoznu4Tku7YKClZ1ZS5jb21wb25lbnQoJ2xlZnRNZW51JywgbGVmdE1lbnUpOwpWdWUuY29tcG9uZW50KCd0b3BIZWFkZXInLCB0b3BIZWFkZXIpOwpWdWUudXNlKEVsZW1lbnRVSSk7ClZ1ZS51c2UoY29va2llKTsgLy/nmbvlvZXnmoTliKTmlq0KCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICh0by5wYXRoID09PSAnL2xvZ2luJyB8fCB0by5wYXRoID09PSAnL2ZvcmJpZGRlbicpIHsKICAgIG5leHQoKTsKICB9IGVsc2UgewogICAgdmFyIGRlZmF1bHRfdXVpZCA9IGNvb2tpZS5nZXQoJ2Nvb2tpZS10b2tlbi1rZXknKTsKCiAgICBpZiAoZGVmYXVsdF91dWlkID09PSBudWxsKSB7CiAgICAgIG5leHQoewogICAgICAgIHBhdGg6ICcvbG9naW4nCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgYXhpb3MuZ2V0KCIvdXNlci9jaGVjay10b2tlbiIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgLyogIGNvbnNvbGUubG9nKHJlcykgKi8KCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDAwMCkgewogICAgICAgICAgaWYgKHJlcy5kYXRhLnJvbGVzID09PSAncm9sZV9hZG1pbicgfHwgcmVzLmRhdGEucm9sZXMgPT09ICdyb2xlX3Jvb3QnKSB7CiAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5leHQoewogICAgICAgICAgICAgIHBhdGg6ICcvZm9yYmlkZGVuJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgIHBhdGg6ICcvbG9naW4nCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciIpOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coZGVmYXVsdF91dWlkKTsKICAgIH0KICB9Cn0pOwpuZXcgVnVlKHsKICByb3V0ZXI6IHJvdXRlciwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7CiAgICByZXR1cm4gaChBcHApOwogIH0KfSkuJG1vdW50KCcjYXBwJyk7"},{"version":3,"sources":["H:/audio-visual/manager_ui/vue_blog_system/src/main.js"],"names":["Vue","App","router","ElementUI","axios","prototype","$axios","cookie","$cookie","leftMenu","topHeader","config","productionTip","defaults","withCredentials","component","use","beforeEach","to","from","next","path","default_uuid","get","then","response","res","data","code","roles","console","log","render","h","$mount"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,sCAAP,C,CAEA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACAJ,GAAG,CAACK,SAAJ,CAAcC,MAAd,GAAuBF,KAAvB,C,CAEA;;AACA,OAAOG,MAAP,MAAmB,YAAnB;AACAP,GAAG,CAACK,SAAJ,CAAcG,OAAd,GAAwBD,MAAxB;AAEA,OAAOE,QAAP,MAAqB,oBAArB;AAEA,OAAOC,SAAP,MAAsB,qBAAtB;AAEAV,GAAG,CAACW,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AACAR,KAAK,CAACS,QAAN,CAAeC,eAAf,GAAiC,IAAjC,C,CAGA;;AACAd,GAAG,CAACe,SAAJ,CAAc,UAAd,EAA0BN,QAA1B;AACAT,GAAG,CAACe,SAAJ,CAAc,WAAd,EAA2BL,SAA3B;AACAV,GAAG,CAACgB,GAAJ,CAAQb,SAAR;AACAH,GAAG,CAACgB,GAAJ,CAAQT,MAAR,E,CAGA;;AACAL,MAAM,CAACe,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAEpC,MAAIF,EAAE,CAACG,IAAH,KAAY,QAAZ,IAAwBH,EAAE,CAACG,IAAH,KAAY,YAAxC,EAAsD;AACpDD,IAAAA,IAAI;AACL,GAFD,MAEO;AACL,QAAME,YAAY,GAAGf,MAAM,CAACgB,GAAP,CAAW,kBAAX,CAArB;;AACA,QAAID,YAAY,KAAK,IAArB,EAA2B;AAChBF,MAAAA,IAAI,CAAC;AACPC,QAAAA,IAAI,EAAE;AADC,OAAD,CAAJ;AAGV,KAJD,MAIO;AACJjB,MAAAA,KAAK,CAACmB,GAAN,CAAU,mBAAV,EAA+BC,IAA/B,CACD,UAACC,QAAD,EAAc;AACZ,YAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;AACA;;AACA,YAAID,GAAG,CAACE,IAAJ,KAAa,KAAjB,EAAwB;AACtB,cAAIF,GAAG,CAACC,IAAJ,CAASE,KAAT,KAAmB,YAAnB,IAAmCH,GAAG,CAACC,IAAJ,CAASE,KAAT,KAAmB,WAA1D,EAAuE;AACrET,YAAAA,IAAI;AACL,WAFD,MAEO;AACLA,YAAAA,IAAI,CAAC;AACHC,cAAAA,IAAI,EAAE;AADH,aAAD,CAAJ;AAGD;AACF,SARD,MAQO;AACLD,UAAAA,IAAI,CAAC;AACHC,YAAAA,IAAI,EAAE;AADH,WAAD,CAAJ;AAGD;AACF,OAjBA,EAkBD,UAACI,QAAD,EAAc;AACZK,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD,OApBA;AAsBCD,MAAAA,OAAO,CAACC,GAAR,CAAYT,YAAZ;AACH;AACF;AACF,CApCD;AAsCA,IAAItB,GAAJ,CAAQ;AACNE,EAAAA,MAAM,EAANA,MADM;AAEN8B,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAAChC,GAAD,CAAL;AAAA;AAFH,CAAR,EAGGiC,MAHH,CAGU,MAHV","sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\n\n// 饿了么ui\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\n\n//网络相关\nimport axios from 'axios';\nVue.prototype.$axios = axios;\n\n//cookie相关\nimport cookie from 'vue-cookie'\nVue.prototype.$cookie = cookie;\n\nimport leftMenu from './layout/left-menu'\n\nimport topHeader from './layout/top-header'\n\nVue.config.productionTip = false\naxios.defaults.withCredentials = true\n\n\n//注册组件\nVue.component('leftMenu', leftMenu)\nVue.component('topHeader', topHeader)\nVue.use(ElementUI)\nVue.use(cookie)\n\n\n//登录的判断\nrouter.beforeEach((to, from, next) => {\n\n  if (to.path === '/login' || to.path === '/forbidden') {\n    next()\n  } else {\n    const default_uuid = cookie.get('cookie-token-key')\n    if (default_uuid === null) {\n               next({\n             path: '/login'\n           })\n    } else {\n       axios.get(\"/user/check-token\").then(\n      (response) => {\n        let res = response.data\n        /*  console.log(res) */\n        if (res.code === 20000) {\n          if (res.data.roles === 'role_admin' || res.data.roles === 'role_root') {\n            next()\n          } else {\n            next({\n              path: '/forbidden'\n            })\n          }\n        } else {\n          next({\n            path: '/login'\n          })\n        }\n      },\n      (response) => {\n        console.log(\"error\");\n      }\n    )\n        console.log(default_uuid)\n    }\n  }\n})\n\nnew Vue({\n  router,\n  render: h => h(App),\n}).$mount('#app')\n"]}]}